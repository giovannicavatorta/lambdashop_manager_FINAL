{"ast":null,"code":"var _jsxFileName = \"/Users/cwgio97/Documents/React/lambdashop_manager/src/components/LambdaManager/Customers/CustomerComponent.jsx\";\nimport React, { Component } from \"react\";\nimport \"./CustomerComponent.css\";\nimport CustomersService from \"../../services/API/Customer/CustomerAPI.js\";\nimport AuthenticatorService from \"../../services/authservice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class CustomerComponent extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      userPermission: AuthenticatorService.getUserInformations(),\n      clienti: [\n        /*\n        {codice: 1001, nome:'Giovanni Cavatorta', punti:'1997', data:'05/07/2021'},\n        {codice: 1002, nome:'Riccardo Allodi', punti:'4200', data:'02/10/2021'},\n        {codice: 1003, nome:'Federico Stighezza', punti:'6198', data:'04/09/2021'},\n        {codice: 1004, nome:'Isacco Newton', punti:'10001', data:'05/10/2021'}\n        */\n      ],\n      ricercaNome: \"\",\n      ricercaPunti: 0,\n      errorWebAPI: false,\n      errorMessage: \"\",\n      okMessage: null\n    };\n\n    this.handleResponse = response => {\n      console.log(response);\n      this.setState({\n        clienti: response.data\n      });\n    };\n\n    this.handleError = error => {\n      console.log(error.response.data.message);\n      this.setState({\n        errorMessage: error.response.data.message,\n        errorWebAPI: true\n      });\n    };\n\n    this.gestMod = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.searchAll = () => {\n      // Svuoto lo state\n      this.setState({\n        clienti: [],\n        errorWebAPI: false\n      });\n      CustomersService.getAllCustomers().then(response => this.handleResponse(response)).catch(error => this.handleError(error));\n    };\n\n    this.searchNome = () => {\n      // Controllo che il campo non sia vuoto\n      if (containsAnyLetter(this.state.ricercaNome)) {\n        // Svuoto lo state e l'okMessage\n        this.setState({\n          clienti: [],\n          errorWebAPI: false,\n          okMessage: \"\"\n        }); // Log a console per check\n\n        console.log(\"Ricerco \" + this.state.ricercaNome); // Chiamo il servizio\n\n        CustomersService.findCustomerByNome(this.state.ricercaNome).then(response => this.handleResponse(response)).catch(error => this.handleError(error));\n      } else this.searchAll();\n    };\n\n    this.searchPunti = () => {\n      // Controllo che il campo non sia rimasto a 0 o settato a NaN (textbox vuota)\n      if (!this.state.ricercaPunti >= 0) {\n        // Svuoto lo state e l'okMessage\n        this.setState({\n          clienti: [],\n          errorWebAPI: false,\n          okMessage: \"\"\n        }); // Log a console per check\n\n        console.log(\"Cerco gli utenti con almeno \" + this.state.ricercaPunti); // Chiamo il servizio\n\n        CustomersService.findCustomerByPunti(this.state.ricercaPunti).then(response => this.handleResponse(response)).catch(error => this.handleError(error));\n      } else this.searchAll();\n    };\n\n    this.editCliente = codice_cliente => {\n      console.log(\"Modifico cliente \" + codice_cliente + \".\");\n      this.props.history.push(`/edit_cliente/${codice_cliente}`);\n    };\n\n    this.insertCliente = () => {\n      console.log(\"Accedo alla pagina di inserimento cliente...\"); // Push alla nuova pagina: inserisco \n\n      this.props.history.push(`/insert_cliente/-1`);\n    };\n\n    this.deleteCliente = codice_cliente => {\n      console.log(\"Elimino cliente \" + codice_cliente + \".\");\n      /*\n      // Non si agisce mai sull'array originale, creo una copia.\n      const nuovi_clienti = [...this.state.clienti];\n       // Splice: elimino l'indice. [Parametri: indice di partenza, numero di record da eliminare]\n      nuovi_clienti.splice(index_cliente, 1);\n       // Riverso sul vecchio array, uso setState()\n      this.setState({clienti: nuovi_clienti});\n      */\n      // Prima usavo il codice secondario, ma non essendo univoco creava problemi... Uso l'ID del mongo. Sicurezza?\n      // CustomersService.deleteCustomerByCodice(codice_cliente)\n\n      CustomersService.deleteCustomer(codice_cliente).then(response => {\n        this.setState({\n          okMessage: `Eliminazione cliente con codice ${codice_cliente} eseguita!`\n        });\n        this.searchAll();\n      }).catch(error => this.handleError(error));\n    };\n  }\n\n  componentDidMount() {\n    this.searchAll();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"CustomerComponent\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Clienti registrati\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Filtra clienti per nome (case sensitive):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 77\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"ricercaNome\",\n          type: \"text\",\n          onChange: this.gestMod,\n          defaultValue: this.state.ricercaNome\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          type: \"button\",\n          onClick: this.searchNome,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 97\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Filtra per monte punti minimo:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 66\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"ricercaPunti\",\n          type: \"number\",\n          min: \"0\",\n          max: \"1000000\",\n          step: \"500\",\n          onChange: this.gestMod,\n          defaultValue: this.state.ricercaPunti,\n          onKeyDown: event => {\n            event.preventDefault();\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          type: \"button\",\n          onClick: this.searchPunti,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 98\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), this.state.okMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-success\",\n          children: this.state.okMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 46\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          id: \"clienti\",\n          className: \"table table-striped table-bordered table-hover\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Codice Cliente\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Nome\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Punti\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"E-Mail\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Indirizzo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.state.clienti.map(\n            /* Specifico anche l'index, per poter eliminare */\n            (cliente, index) =>\n            /*#__PURE__*/\n\n            /* Devo specificare un key come segnalato dal warning: associo il codice cliente */\n            _jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: cliente.codice\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: cliente.nome\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: cliente.punti\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: cliente.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: cliente.indirizzo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 41\n              }, this), this.state.userPermission === \"admin\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-warning table-buttons\",\n                    onClick: e => this.editCliente(cliente.codice),\n                    children: \"Modifica\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-warning table-buttons\",\n                    onClick: e => window.confirm(`Sei sicuro di voler eliminare il cliente ${cliente.codice}?`) && this.deleteCliente(cliente.id),\n                    children: \"Elimina\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 53\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 45\n              }, this)]\n            }, cliente.codice, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), this.state.userPermission === \"admin\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: this.insertCliente,\n            className: \"btn btn btn-warning\",\n            children: \"Aggiungi un nuovo cliente\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(ErrorWebAPIMessage, {\n          errorWebAPI: this.state.errorWebAPI,\n          errorMessage: this.state.errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this);\n  } // Gestisco la modifica del codice nella textbox\n\n\n} // Componente funzionale per visualizzare errore in ricerca cliente\n// Messaggio di errore ricerca cliente\n\nfunction ErrorWebAPIMessage(props) {\n  if (props.errorWebAPI) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: props.errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 65\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 16\n    }, this);\n  } else return null;\n} // Funzione per controllare che i campi di inserimento contengano almeno una lettera\n\n\n_c = ErrorWebAPIMessage;\n\nfunction containsAnyLetter(str) {\n  return /[a-zA-Z]/.test(str);\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"ErrorWebAPIMessage\");","map":{"version":3,"names":["React","Component","CustomersService","AuthenticatorService","CustomerComponent","state","userPermission","getUserInformations","clienti","ricercaNome","ricercaPunti","errorWebAPI","errorMessage","okMessage","handleResponse","response","console","log","setState","data","handleError","error","message","gestMod","event","target","name","value","searchAll","getAllCustomers","then","catch","searchNome","containsAnyLetter","findCustomerByNome","searchPunti","findCustomerByPunti","editCliente","codice_cliente","props","history","push","insertCliente","deleteCliente","deleteCustomer","componentDidMount","render","preventDefault","map","cliente","index","codice","nome","punti","email","indirizzo","e","window","confirm","id","ErrorWebAPIMessage","str","test"],"sources":["/Users/cwgio97/Documents/React/lambdashop_manager/src/components/LambdaManager/Customers/CustomerComponent.jsx"],"sourcesContent":["import React, { Component } from \"react\";\nimport \"./CustomerComponent.css\";\nimport CustomersService from \"../../services/API/Customer/CustomerAPI.js\";\nimport AuthenticatorService from \"../../services/authservice\"\n\nexport default class CustomerComponent extends Component {\n\n    state = {\n        userPermission: AuthenticatorService.getUserInformations(),\n        clienti: [\n            /*\n            {codice: 1001, nome:'Giovanni Cavatorta', punti:'1997', data:'05/07/2021'},\n            {codice: 1002, nome:'Riccardo Allodi', punti:'4200', data:'02/10/2021'},\n            {codice: 1003, nome:'Federico Stighezza', punti:'6198', data:'04/09/2021'},\n            {codice: 1004, nome:'Isacco Newton', punti:'10001', data:'05/10/2021'}\n            */\n        ],\n        ricercaNome: \"\",\n        ricercaPunti: 0,\n        errorWebAPI: false,\n        errorMessage: \"\",\n        okMessage: null\n    }\n\n    componentDidMount() {\n        this.searchAll();\n    }\n\n    handleResponse = (response) => {\n        console.log(response);\n        this.setState({\n            clienti: response.data\n        });\n    }\n\n    handleError = (error) => {\n        console.log(error.response.data.message);\n\n        this.setState({\n            errorMessage: error.response.data.message,\n            errorWebAPI: true\n        });\n    }\n\n    render() {\n        return (\n            <div className='CustomerComponent'>\n                <h1>Clienti registrati</h1>\n\n                <div>\n                    <label>Filtra clienti per nome (case sensitive):</label><br></br>\n                    <input name=\"ricercaNome\" type=\"text\" onChange={this.gestMod} defaultValue={this.state.ricercaNome}/>\n                    <button className=\"btn btn-primary\" type=\"button\" onClick={this.searchNome}><i className=\"fa fa-search\"></i></button>\n\n                    <br />\n\n                    <label>Filtra per monte punti minimo:</label><br></br>\n                    <input name=\"ricercaPunti\" type=\"number\" min=\"0\" max=\"1000000\" step=\"500\" onChange={this.gestMod} defaultValue={this.state.ricercaPunti} onKeyDown={(event) => {event.preventDefault();}}/>\n                    <button className=\"btn btn-primary\" type=\"button\" onClick={this.searchPunti}><i className=\"fa fa-search\"></i></button>\n                    \n                    {/* Se la variabile okMessage non è null, allora mostra il messaggio sopra la tabella */}\n                    {this.state.okMessage && <div className=\"alert alert-success\">{this.state.okMessage}</div>}\n                    \n                    {/* Tabella clienti, con relativo .css nel file associato */}\n                    <table id=\"clienti\" className=\"table table-striped table-bordered table-hover\">\n                        <thead>\n                            <tr>\n                                <th>Codice Cliente</th>\n                                <th>Nome</th>\n                                <th>Punti</th>\n                                <th>E-Mail</th>\n                                <th>Indirizzo</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {\n                                this.state.clienti.map (\n                                    /* Specifico anche l'index, per poter eliminare */\n                                    (cliente, index) => \n                                    /* Devo specificare un key come segnalato dal warning: associo il codice cliente */\n                                    <tr key={cliente.codice}>\n                                        <td>{cliente.codice}</td>\n                                        <td>{cliente.nome}</td>\n                                        <td>{cliente.punti}</td>\n                                        <td>{cliente.email}</td>\n                                        <td>{cliente.indirizzo}</td>\n                                        {/* Se l'utente è \"admin\", attivo i bottoni di modifica/elimina */}\n                                        { this.state.userPermission === \"admin\" &&\n                                            <div>\n                                                <td>\n                                                    {/* Modifico indice: avendo un parametro devo usare una lambda per evitare \n                                                        l'avvio del metodo al caricamento... */}\n                                                    <button className=\"btn btn-warning table-buttons\" onClick={e => this.editCliente(cliente.codice)}>Modifica</button>\n                                                </td>\n                                                <td>\n                                                    {/* Elimino indice: avendo un parametro devo usare una lambda per evitare \n                                                        l'avvio del metodo al caricamento... */}\n                                                    <button className=\"btn btn-warning table-buttons\" \n                                                        onClick={e => window.confirm(`Sei sicuro di voler eliminare il cliente ${cliente.codice}?`)\n                                                        && this.deleteCliente(cliente.id)}>Elimina\n                                                    </button> {/* Prima: cliente.codice */}\n                                                </td>\n                                            </div>\n                                        }\n                                    </tr>\n                                )\n                            }\n                        </tbody>\n                    </table>\n                    \n                    {/* Se l'utente è admin... */}\n                    { this.state.userPermission === \"admin\" &&\n                        <div>\n                            {/* Bottone per l'inserimento di un nuovo cliente */}\n                            <button type=\"button\" onClick={this.insertCliente} className=\"btn btn btn-warning\">Aggiungi un nuovo cliente</button>\n                        </div>\n                    }\n                    \n                    <ErrorWebAPIMessage errorWebAPI={this.state.errorWebAPI} errorMessage={this.state.errorMessage}></ErrorWebAPIMessage>\n                </div>\n\n                <div>\n                    <br></br>\n                    <br></br>\n                    <br></br>\n                    <br></br>\n                </div>\n            </div>\n        )\n    }\n\n    // Gestisco la modifica del codice nella textbox\n    gestMod = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    }\n\n    // Ricerca tutti\n    searchAll = () => {\n        // Svuoto lo state\n        this.setState({clienti: [], errorWebAPI: false});\n\n        CustomersService.getAllCustomers()\n            .then(response => this.handleResponse(response))\n            .catch(error => this.handleError(error));\n    }\n    \n    // Ricerca\n    searchNome = () => {\n        // Controllo che il campo non sia vuoto\n        if (containsAnyLetter(this.state.ricercaNome)) {\n            // Svuoto lo state e l'okMessage\n            this.setState({clienti: [], errorWebAPI: false, okMessage: \"\"});\n            // Log a console per check\n            console.log(\"Ricerco \" + this.state.ricercaNome);\n            // Chiamo il servizio\n            CustomersService.findCustomerByNome(this.state.ricercaNome)\n                .then(response => this.handleResponse(response))\n                .catch(error => this.handleError(error));\n        }\n        else this.searchAll();\n    }\n\n    // Ricerca\n    searchPunti = () => {\n        // Controllo che il campo non sia rimasto a 0 o settato a NaN (textbox vuota)\n        if (!this.state.ricercaPunti >= 0) {\n            // Svuoto lo state e l'okMessage\n            this.setState({clienti: [], errorWebAPI: false, okMessage: \"\"});\n            // Log a console per check\n            console.log(\"Cerco gli utenti con almeno \" + this.state.ricercaPunti);\n            // Chiamo il servizio\n            CustomersService.findCustomerByPunti(this.state.ricercaPunti)\n                .then(response => this.handleResponse(response))\n                .catch(error => this.handleError(error));\n        }\n        else this.searchAll();\n    }\n\n    // Modifico un cliente\n    editCliente = (codice_cliente) => {\n        \n        console.log(\"Modifico cliente \" + codice_cliente + \".\");\n\n        this.props.history.push(`/edit_cliente/${codice_cliente}`);\n    }\n\n    // Inserisco un cliente\n    insertCliente = () => {\n        console.log(\"Accedo alla pagina di inserimento cliente...\");\n        // Push alla nuova pagina: inserisco \n        this.props.history.push(`/insert_cliente/-1`);\n    }\n\n    // Elimino un cliente\n    deleteCliente = (codice_cliente) => {\n        \n        console.log(\"Elimino cliente \" + codice_cliente + \".\");\n\n        /*\n        // Non si agisce mai sull'array originale, creo una copia.\n        const nuovi_clienti = [...this.state.clienti];\n\n        // Splice: elimino l'indice. [Parametri: indice di partenza, numero di record da eliminare]\n        nuovi_clienti.splice(index_cliente, 1);\n\n        // Riverso sul vecchio array, uso setState()\n        this.setState({clienti: nuovi_clienti});\n        */\n\n        // Prima usavo il codice secondario, ma non essendo univoco creava problemi... Uso l'ID del mongo. Sicurezza?\n        // CustomersService.deleteCustomerByCodice(codice_cliente)\n        CustomersService.deleteCustomer(codice_cliente)\n            .then(response => {\n                this.setState({okMessage: `Eliminazione cliente con codice ${codice_cliente} eseguita!`});\n                this.searchAll();\n            })\n            .catch(error => this.handleError(error));\n    }\n}\n\n// Componente funzionale per visualizzare errore in ricerca cliente\n// Messaggio di errore ricerca cliente\nfunction ErrorWebAPIMessage(props) {\n    if (props.errorWebAPI) {\n        return <div className=\"alert alert-danger\" role=\"alert\"><h5>{props.errorMessage}</h5></div>\n    }\n\n    else return null;\n}\n\n// Funzione per controllare che i campi di inserimento contengano almeno una lettera\nfunction containsAnyLetter(str) {\n    return /[a-zA-Z]/.test(str);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}